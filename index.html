<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>جنگاوران پارس</title>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://tapi.bale.ai/miniapp.js?3"></script> <style>
        :root {
            /* Palette inspired by your logo: gold, dark blue/slate, with accents */
            --primary-gold: #ffcc00; /* Main accent color */
            --secondary-blue: #34495e; /* Dark blue/slate from shield */
            --background-deep-dark: #1a202c; /* Very dark background for depth */
            --card-surface: #2d3748; /* Slightly lighter dark for card backgrounds */
            --text-main-light: #e2e8f0; /* Soft white text */
            --text-accent-green: #48bb78; /* A pleasant green for positive stats */
            --button-main-bg: #4299e1; /* A vibrant blue for primary actions */
            --button-main-hover: #3182ce;
            --button-text: #ffffff;
            --button-danger: #e53e3e; /* Red for destructive actions */
            --button-danger-hover: #c53030;
            --border-subtle: #4a5568; /* Subtle border color */
            --shadow-strong: rgba(0, 0, 0, 0.6);
            --border-radius-large: 16px;
            --border-radius-small: 8px;
            --transition-fast: 0.2s ease-in-out;
            --transition-medium: 0.4s ease-in-out;
        }

        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: var(--background-deep-dark);
            color: var(--text-main-light);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px 10px;
            box-sizing: border-box;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
            position: relative;
            background-image: url('https://raw.githubusercontent.com/hassanagoudarz/my-game-mini-app-jangavaran/main/12916f5c-2bcf-4ee7-8099-f767b62272ac.jpg'); /* Your logo as background */
            background-size: 250px; /* Adjust size as needed */
            background-position: center top 50px; /* Position it */
            background-repeat: no-repeat;
            background-attachment: fixed; /* Fixed background */
            /* Dark overlay for readability */
            &::before {
                content: '';
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.4); /* Dark overlay */
                z-index: -1;
            }
        }

        /* Loading Screen */
        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--background-deep-dark);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.6s ease-in-out;
        }

        .spinner {
            border: 5px solid rgba(255, 255, 255, 0.2);
            border-top: 5px solid var(--primary-gold);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1.2s linear infinite;
            margin-bottom: 25px;
            box-shadow: 0 0 15px var(--primary-gold);
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Fade out loading screen */
        .fade-out {
            opacity: 0;
            visibility: hidden;
        }

        /* Main Content Animation */
        .container-loaded {
            opacity: 1 !important;
            transform: translateY(0) !important;
        }

        /* Main Content */
        .container {
            background-color: var(--card-surface);
            padding: 25px;
            border-radius: var(--border-radius-large);
            box-shadow: 0 8px 16px var(--shadow-strong);
            max-width: 500px;
            width: 100%;
            margin-bottom: 20px;
            border: 1px solid var(--border-subtle);
            opacity: 0; /* Initially hidden */
            transform: translateY(30px); /* Start from slightly below */
            transition: opacity 0.8s var(--transition-medium), transform 0.8s var(--transition-medium);
        }

        h1 {
            color: var(--primary-gold);
            margin-bottom: 20px;
            font-size: 2.2em;
            text-shadow: 0 0 10px rgba(255, 204, 0, 0.6);
            letter-spacing: 1px; /* Slightly more spaced */
        }

        h2 {
            color: var(--text-secondary);
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 1.5em;
            border-bottom: 2px solid var(--text-secondary);
            padding-bottom: 8px;
            display: inline-block;
            text-shadow: 0 0 5px rgba(189, 147, 249, 0.3);
        }

        p {
            font-size: 1em;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .player-stats {
            background-color: #3b4252; /* Slightly different dark shade */
            padding: 20px;
            border-radius: var(--border-radius-small);
            margin-top: 20px;
            text-align: right;
            border: 1px solid var(--border-subtle);
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.2);
        }

        .player-stats div {
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 5px 0;
            border-bottom: 1px dashed rgba(255, 255, 255, 0.1); /* Subtle separator */
        }
        .player-stats div:last-child {
            margin-bottom: 0;
            border-bottom: none;
        }

        .player-stats span {
            font-weight: bold;
            color: var(--text-main-light);
            font-size: 1.05em;
        }
        .player-stats strong {
            color: var(--text-accent-green);
            font-size: 1.2em; /* Larger for values */
            direction: ltr;
            text-shadow: 0 0 5px rgba(72, 187, 120, 0.4);
        }

        /* Action Buttons Grid */
        .main-actions {
            margin-top: 30px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
        }
        
        button {
            background-color: var(--button-main-bg);
            color: var(--button-text);
            border: none;
            padding: 15px 10px; /* Generous padding */
            border-radius: var(--border-radius-small);
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: background-color var(--transition-fast), transform var(--transition-fast), box-shadow var(--transition-fast);
            width: 100%;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
            position: relative;
            overflow: hidden;
            letter-spacing: 0.5px;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }

        button:hover {
            background-color: var(--button-main-hover);
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 8px 16px var(--shadow-strong);
        }

        button:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px var(--shadow-color);
        }

        /* Ripple effect for buttons */
        .ripple {
            position: absolute;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.3);
            animation: ripple-animation 0.6s linear forwards;
            pointer-events: none;
            transform: scale(0);
            opacity: 1;
        }

        @keyframes ripple-animation {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }

        /* Danger button specific style */
        #close-button {
            background-color: var(--button-danger);
            margin-top: 30px;
            width: fit-content;
            padding: 12px 25px;
            border-radius: var(--border-radius-small);
            box-shadow: 0 4px 8px var(--shadow-strong);
        }
        #close-button:hover {
            background-color: var(--button-danger-hover);
            transform: translateY(-2px);
        }

        /* Utility classes */
        .hidden {
            display: none !important;
        }

        /* Adjustments for smaller screens */
        @media (max-width: 480px) {
            .main-actions {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                gap: 10px;
            }
            button {
                font-size: 0.9em;
                padding: 12px 8px;
            }
            h1 {
                font-size: 2em;
            }
            h2 {
                font-size: 1.3em;
            }
        }
    </style>
</head>
<body>
    <div id="loading-screen">
        <div class="spinner"></div>
        <p style="font-size:1.2em; color:var(--text-main-light);">در حال ورود به دنیای جنگاوران پارس...</p>
    </div>

    <div class="container" id="main-content">
        <h1>⚔️ جنگاوران پارس ⚔️</h1>
        <p id="user-info">در حال بارگذاری اطلاعات کاربر...</p>

        <h2>وضعیت قلمرو شما:</h2>
        <div class="player-stats">
            <div><span>طلا:</span> <strong id="gold-amount">0</strong> 💰</div>
            <div><span>الماس:</span> <strong id="diamond-amount">0</strong> 💎</div>
            <div><span>غذا:</span> <strong id="food-amount">0</strong> 🍖</div>
            <div><span>بلوک:</span> <strong id="block-amount">0</strong> 🧱</div>
            <div><span>سرباز:</span> <strong id="soldier-amount">0</strong> 💂‍♂️</div>
            <div><span>دیوار:</span> <strong id="wall-amount">0</strong> 🛡️</div>
            <div><span>سطح قلمرو:</span> <strong id="realm-level">1</strong> 🌟</div>
        </div>

        <h2>اقدامات اصلی:</h2>
        <div class="main-actions">
            <button id="extract-gold-btn">💰 استخراج طلا</button>
            <button id="battle-btn">⚔️ نبرد</button>
            <button id="my-realm-btn">🏰 قلمرو من</button>
            <button id="market-btn">🛒 بازار</button>
            <button id="sepah-btn">⚔️ سپاه</button>
            <button id="leaderboard-btn">🏆 رتبه‌بندی</button>
            <button id="extract-resources-btn">⛏️ استخراج منابع</button>
            <button id="daily-reward-btn">🎁 جایزه روزانه</button>
            <button id="direct-attack-btn">🎯 حمله مستقیم</button>
            <button id="special-defense-btn">🛡️ دفاع ویژه</button>
            <button id="sepah-war-btn">⚔️ نبرد بین سپاهی ⚔️</button>
            <button id="black-market-btn">📦 بازار سیاه</button>
            <button id="game-group-btn">💬 گروه بازی</button>
            <button id="support-btn">📞 پشتیبانی</button>
            <button id="arsenal-btn">⚔️ زرادخانه</button>
            <button id="defense-equipment-btn">🛡️ تجهیزات دفاعی</button>
            <button id="battle-list-btn">📜 لیست نبردها</button>
            <button id="attack-bot-btn">🤖 حمله به بات</button>
            <button id="invite-friends-btn">➕ دعوت دوستان</button>
            <button id="game-guide-btn">❓ راهنمای بازی</button>
            <button id="statement-btn">✍️ بیانیه</button>
            <button id="cyber-warfare-btn">💻 جنگ سایبری</button>
            <button id="transfer-resources-btn">🎁 انتقال منابع</button>
            <button id="telegram-transfer-btn">✈️ انتقال به تلگرام ✈️</button>
            <button id="admin-panel-btn" class="hidden">⚙️ پنل ادمین ⚙️</button>
        </div>
    </div>

    <button id="close-button">بستن مینی‌اپ</button>
</body>
</html>